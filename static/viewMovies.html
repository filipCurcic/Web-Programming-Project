<!DOCTYPE html>
<html lang="en">

<head>

  <meta charset="utf-8">

  <title>Project Movie Database</title>

  <!-- Bootstrap core CSS -->
  <link href="css/bootstrap/bootstrap.min.css" rel="stylesheet">

  <!-- Custom styles for this template -->
  <link href="css/main.css" rel="stylesheet">

</head>

<body ng-app="Aplikacija">
  <header>
    <nav class="navbar navbar-expand-md navbar-dark fixed-top bg-dark">
      <a class="navbar-brand" href="http://localhost">PMDB</a>
      <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarCollapse" aria-controls="navbarCollapse"
        aria-expanded="false" aria-label="Toggle navigation">
              <span class="navbar-toggler-icon"></span>
          </button>
      <div class="collapse navbar-collapse" id="navbarCollapse">
        <ul class="navbar-nav mr-auto">
          <li class="nav-item active">
            <a class="nav-link" href="topRated.html">Top Rated <span class="sr-only">(current)</span></a>
          </li>
          <li class="nav-item active">
            <a class="nav-link" href="mostPopular.html">Most Popular <span class="sr-only">(current)</span></a>
          </li>
          <li class="nav-item active">
            <a class="nav-link" href="register.html">Register</a>
          </li>
          <li class="nav-item active">
            <a class="nav-link" href="login.html">Login</a>
          </li>

          <li class="nav-item active">
            <a class="nav-link" href="newMovie.html">Add movie</a>
          </li>

          <li class="nav-item active">
            <a class="nav-link" href="newMovie.html">View users</a>
          </li>

        </ul>



        <form class="form-inline mt-2 mt-md-0">
          <input class="form-control mr-sm-2" type="text" placeholder="Search" aria-label="Search" id="movSearch">
          <button class="btn btn-outline-success my-2 my-sm-0" type="submit">Search</button>
        </form>
      </div>
    </nav>
  </header>


  <main role="main">

    <section class="jumbotron text-center">
      <div class="container">
        <h1 class="jumbotron-heading">Album example</h1>


        <p class="lead text-muted">Something short and leading about the collection below—its contents, the creator, etc. Make it short and sweet, but
          not too short so folks don't simply skip over it entirely.</p>

      </div>
    </section>

    <div id="gradient">
      <div class="container" ng-controller="ctrl as lv">

        <table class="table table-striped table-hover">

          <thead>
            <tr>
              <th><a href="#" ng-click="lv.sortMovies('title')">Title<div ng-class="lv.getMovieSortClass('title')"></div></a></th>
              <th><a href="#" ng-click="lv.sortMovies('desc')">Description<div ng-class="lv.getMovieSortClass('desc')"></div></a></th>
              <th><a href="#" ng-click="lv.sortMovies('runtime')">Runtime<div ng-class="lv.getMovieSortClass('runtime')"></div></a></th>
              <th><a href="#" ng-click="lv.sortMovies('release')">Release<div ng-class="lv.getMovieSortClass('release')"></div></a></th>
              <th><a href="#" ng-click="lv.sortMovies('vote_count')">Vote count<div ng-class="lv.getMovieSortClass('vote_count')"></div></a></th>
              <th><a href="#" ng-click="lv.sortMovies('votes')">Average rating<div ng-class="lv.getMovieSortClass('votes')"></div></a></th>

            </tr>
          </thead>
          <tbody>
            <tr ng-repeat="film in lv.filmovi | orderBy:lv.sortedMovie:lv.reverseMovieSort">
              <td>{{film.title}} </td>
              <td>{{film.desc}}</td>
              <td>{{film.runtime}}min</td>
              <td>{{film.release}}</td>
              <td>{{film.vote_count}}</td>
              <td>{{film.avg_vote}}</td>
              <td><button type="button" class="btn btn-danger" ng-click="lv.ukloniFilm(film.idmovie)">Delete movie</button></td>
              <td><button class="btn btn-primary" ng-click="lv.pripremiZaIzmenu(film)">Edit movie</button></td>


            </tr>
          </tbody>
        </table>

        <div ng-show="lv.zaIzmenuBool">
          <h1>Edit movie</h1>
          <form name="izmenaFilma" ng-submit="izmenaFilma.$valid && lv.izmeniFilm()">
            <div class="form-group">
              <label for="title">Title</label>
              <input type="text" class="form-control" ng-class="{'is-invalid': izmenaFilma.title.$invalid}" id="title" name="title"
                aria-describedby="title" placeholder="Title.." ng-model="lv.zaIzmenu.title" ng-required="true">
            </div>
            <div class="form-group">
              <label for="desc">Description</label>
              <textarea class="form-control" id="desc" name="desc" placeholder="Description.." ng-model="lv.zaIzmenu.desc"></textarea>
            </div>
            <div class="form-group">
              <label for="runtime">Runtime</label>
              <input type="number" class="form-control" id="runtime" name="runtime" placeholder="Runtime.." ng-model="lv.zaIzmenu.runtime">
            </div>
            <div class="form-group">
              <label for="release">Release</label>
              <input type="number" class="form-control" id="release" name="release" placeholder="Release.." ng-model="lv.zaIzmenu.release">
            </div>
            <div class="form-group">
              <label for="poster_path">Poster path</label>
              <input type="text" class="form-control" id="poster_path" name="poster_path" placeholder="Poster path.." ng-model="lv.zaIzmenu.poster_path">
            </div>
            <div class="form-group">
              <input class="btn btn-primary" type="submit" ng-disabled="izmenaClanka.$invalid" value="Izmeni">
              <button class="btn btn-danger" type="button" ng-click="lv.odustaniOdIzmene()">Odustani</button>
            </div>
          </form>
          <hr>
        </div>

      </div>
    </div>


  </main>

  <footer class="footer">
    <div class="container">
      <span class="text-muted">© Filip Curcic 2018.</span>
    </div>
  </footer>




  <!-- Bootstrap core JavaScript -->
  <script src="js/jquery/jquery.min.js"></script>
  <script src="js/bootstrap/bootstrap.bundle.min.js"></script>
  <script src="js/jquery/jquery-3.2.1.min.js"></script>
  <script src="js/popper.js/popper.min.js"></script>

  <script src="js/angularjs/angular.min.js"></script>
  <script src="app/app.js"></script>
  <script src="app/filmovi/filmovi.js"></script>

</body>

</html>